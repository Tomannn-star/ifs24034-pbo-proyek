<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Daftar - Easy Stock</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&display=swap" rel="stylesheet">
    
    <style>
        body {
            margin: 0;
            padding: 0;
            height: 100vh;
            overflow: hidden;
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #e0f7fa 0%, #bbdefb 100%);
        }

        /* --- 1. ELEMEN KARTUN MELAYANG --- */
        .cartoon-icon {
            position: absolute;
            z-index: 0;
            filter: drop-shadow(5px 5px 0px rgba(0,0,0,0.1));
            animation: float 6s ease-in-out infinite;
        }

        /* Posisi Ikon Sedikit Diubah dari Login */
        .icon-box { 
            bottom: 15%; left: 8%; 
            font-size: 7rem; 
            color: #ffb74d; 
            text-shadow: -3px -3px 0 #fff, 3px -3px 0 #fff, -3px 3px 0 #fff, 3px 3px 0 #fff;
            animation-duration: 5s;
        }
        .icon-forklift { 
            top: 10%; right: 10%; 
            font-size: 6rem; 
            color: #42a5f5; /* Biru di halaman ini */
            text-shadow: -3px -3px 0 #fff, 3px -3px 0 #fff, -3px 3px 0 #fff, 3px 3px 0 #fff;
            animation-duration: 7s;
        }
        .icon-chart { 
            bottom: 20%; right: 20%; 
            font-size: 5rem; 
            color: #ef5350; /* Merah Pastel */
            text-shadow: -3px -3px 0 #fff, 3px -3px 0 #fff, -3px 3px 0 #fff, 3px 3px 0 #fff;
            animation-duration: 6s;
        }
        .icon-warehouse { 
            top: 15%; left: 15%; 
            font-size: 4rem; 
            color: #66bb6a; /* Hijau */
            text-shadow: -3px -3px 0 #fff, 3px -3px 0 #fff, -3px 3px 0 #fff, 3px 3px 0 #fff;
            animation-duration: 8s;
        }

        @keyframes float {
            0% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(5deg); }
            100% { transform: translateY(0px) rotate(0deg); }
        }

        /* --- 2. KARTU REGISTER (CUTE STYLE) --- */
        .register-container {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100%;
            position: relative;
            z-index: 1;
        }

        .register-card {
            width: 100%;
            max-width: 450px; /* Sedikit lebih lebar dari login */
            padding: 2.5rem;
            border-radius: 30px; 
            background: #ffffff;
            border: 4px solid #fff;
            box-shadow: 0 20px 40px rgba(255, 152, 0, 0.2); /* Bayangan oranye */
        }

        .brand-logo {
            font-size: 3rem;
            color: #fb8c00;
            margin-bottom: 5px;
            filter: drop-shadow(2px 2px 0px rgba(0,0,0,0.1));
        }

        /* --- 3. INPUT FIELDS (KAPSUL) --- */
        .form-control, .form-select {
            background-color: #fff8e1; /* Cream muda */
            border: 2px solid #ffe0b2;
            padding: 12px 20px;
            border-radius: 50px; 
            font-size: 0.95rem;
        }
        .form-control:focus, .form-select:focus {
            background-color: #fff;
            border-color: #fb8c00;
            box-shadow: 0 0 0 0.25rem rgba(251, 140, 0, 0.2);
            border-right: 0;
        }
        /* Fix dropdown arrow position in rounded select */
        .form-select {
            background-position: right 1.5rem center;
        }

        .input-group {
            background: transparent;
            border-radius: 50px;
        }
        
        #regPassword {
            border-top-right-radius: 0;
            border-bottom-right-radius: 0;
            border-right: 0;
        }
        .btn-eye {
            background-color: #fff8e1;
            border: 2px solid #ffe0b2;
            border-left: 0;
            border-top-right-radius: 50px;
            border-bottom-right-radius: 50px;
            color: #ffcc80;
            padding-right: 20px;
        }
        .btn-eye:hover {
            background-color: #ffe0b2;
            color: #fb8c00;
            border-color: #ffe0b2;
        }
        
        /* Tombol Register (Hijau Segar) */
        .btn-register {
            background: #43a047; /* Hijau */
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 800; 
            padding: 12px;
            box-shadow: 0 5px 15px rgba(67, 160, 71, 0.4);
            transition: all 0.3s;
        }
        .btn-register:hover {
            transform: translateY(-3px);
            background: #2e7d32;
            box-shadow: 0 8px 20px rgba(67, 160, 71, 0.5);
        }

        .login-link {
            color: #1976d2; /* Biru kontras */
            font-weight: 700;
            text-decoration: none;
        }
        .login-link:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>

    <!-- ELEMEN KARTUN/STICKER -->
    <i class="fas fa-box cartoon-icon icon-box"></i>
    <i class="fas fa-dolly cartoon-icon icon-forklift"></i>
    <i class="fas fa-chart-line cartoon-icon icon-chart"></i>
    <i class="fas fa-store cartoon-icon icon-warehouse"></i>

    <!-- FORM CONTAINER -->
    <div class="register-container">
        <div class="register-card">
            
            <!-- Logo & Judul -->
            <div class="text-center mb-4">
                <div class="brand-logo">
                    <i class="fas fa-user-plus"></i>
                </div>
                <h3 class="fw-bold" style="color: #444;">Join Easy Stock</h3>
                <p class="text-muted small">Mulai kelola stokmu sekarang!</p>
            </div>

            <!-- Alerts -->
            <div th:if="${error}" class="alert alert-danger text-center py-2 rounded-pill fade show small">
                <i class="fas fa-times-circle"></i> <span th:text="${error}"></span>
            </div>

            <!-- Form -->
            <form th:action="@{/register}" method="post">
                
                <!-- Username -->
                <div class="mb-3">
                    <label class="fw-bold small text-muted ms-3 mb-1">USERNAME BARU</label>
                    <input type="text" name="username" class="form-control" placeholder="Pilih username unik..." required>
                </div>
                
                <!-- Password -->
                <div class="mb-3">
                    <label class="fw-bold small text-muted ms-3 mb-1">PASSWORD</label>
                    <div class="input-group">
                        <input type="password" name="password" id="regPassword" class="form-control" placeholder="Rahasiakan passwordmu..." required>
                        <button class="btn btn-eye" type="button" onclick="toggleRegPassword()">
                            <i class="fas fa-eye" id="toggleRegIcon"></i>
                        </button>
                    </div>
                </div>

                <!-- Role Selection -->
                <div class="mb-4">
                    <label class="fw-bold small text-muted ms-3 mb-1">KAMU SEBAGAI APA?</label>
                    <select name="role" class="form-select text-secondary fw-bold" required>
                        <option value="SELLER">üè™ Seller (Punya Toko)</option>
                        <option value="SUPPLIER">üöö Supplier (Kirim Barang)</option>
                    </select>
                </div>

                <button type="submit" class="btn btn-success w-100 btn-register">
                    BUAT AKUN! <i class="fas fa-check-circle ms-2"></i>
                </button>
            </form>

            <div class="text-center mt-4">
                <small class="text-muted">Sudah punya akun?</small> 
                <a href="/login" class="login-link ms-1">Login aja di sini</a>
            </div>
        </div>
    </div>

<script>
    function toggleRegPassword() {
        var passwordInput = document.getElementById("regPassword");
        var icon = document.getElementById("toggleRegIcon");

        if (passwordInput.type === "password") {
            passwordInput.type = "text";
            icon.classList.remove("fa-eye");
            icon.classList.add("fa-eye-slash");
        } else {
            passwordInput.type = "password";
            icon.classList.remove("fa-eye-slash");
            icon.classList.add("fa-eye");
        }
    }
</script>

</body>
</html>